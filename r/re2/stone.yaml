#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : re2
version     : "2024-07-22"
release     : 6
upstreams   :
    - https://github.com/google/re2/releases/download/2025-07-22/re2-2025-07-22.tar.gz : f54c29f1c3e13e12693e3d6d1230554df3ab3a1066b2e1f28c5330bfbf6db1e3
license     : BSD-3-Clause
homepage    : https://github.com/google/re2/
summary     : RE2 is a fast, safe, thread-friendly alternative to backtracking regular expression engines
description : |
    RE2 is a fast, safe, thread-friendly alternative to backtracking regular expression engines
builddeps   :
    - pkgconfig(absl_config)
    - pkgconfig(icu-i18n)
checkdeps   :
    - pkgconfig(benchmark)
tuning      :
    - lto: full
setup       : |
    %cmake \
           -DBUILD_SHARED_LIBS=ON \
           -DRE2_BUILD_TESTING=ON \
           -DRE2_USE_ICU=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
# check       : |
#     # Error parsing '\140\440\174\271\150\656\106\201\004\332': invalid escape sequence
#     # Possible libc++ issue?
#     %cmake_test
