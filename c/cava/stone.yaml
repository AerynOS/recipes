#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : cava
version     : '0.10.4'
release     : 2
homepage    : https://github.com/LukashonakV/cava
upstreams   :
    - https://github.com/LukashonakV/cava/archive/refs/tags/0.10.4.tar.gz : 7bc1c1f9535f2bcc5cd2ae8a2434a2e3a05f5670b1c96316df304137ffc65756
summary     : Cross-platform Audio Visualizer
description : |
    Cross-platform Audio Visualizer
license     : MIT
builddeps   :
    - pkgconfig(alsa)
    - pkgconfig(fftw3)
    - pkgconfig(gl)
    - pkgconfig(iniparser)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libpulse)
    - pkgconfig(ncursesw)
    - sdl2-devel
setup       : |
    %meson \
        -Dbuild_target=all
build       : |
    %meson_build
install     : |
    %meson_install
packages    :
    - "%(name)":
        paths:
            - /usr/lib/libcava.so
tuning      :
    # <inline asm>:25:9: error: Could not find incbin file 'src/output/shaders/bar_spectrum.frag'
    #    25 | .incbin "src/output/shaders/bar_spectrum.frag"
    - lto: false
