#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : openldap
version     : 2.6.12
release     : 6
homepage    : https://www.openldap.org/
upstreams   :
    - https://www.openldap.org/software/download/OpenLDAP/openldap-release/openldap-2.6.12.tgz : 1716ad779e85d743694c3e3b05277fb71b6a5eadca43c7a958aa62683b22208e
summary     : OpenLDAP Software is an open source implementation of the Lightweight Directory Access Protocol.
description : |
    OpenLDAP Software is an open source implementation of the Lightweight Directory Access Protocol.
license     :
    - OLDAP-2.7
    - OLDAP-2.8
builddeps   :
    - binary(soelim)
    - pkgconfig(libsasl2)
    - pkgconfig(libsystemd)
    - pkgconfig(libxcrypt)
    - pkgconfig(odbc)
    - pkgconfig(openssl)
    - pkgconfig(sqlite3)
    - libtool-ltldl-devel
setup       : |
    %configure \
        --disable-static \
        --disable-ndb \
        --disable-perl \
        --disable-wt \
        --enable-backends \
        --enable-crypt \
        --enable-dynamic \
        --enable-ipv6 \
        --enable-modules \
        --enable-spasswd \
        --with-threads \
        --with-tls=openssl
build       : |
    %make
install     : |
    %make_install
packages    :
    - "%(name)-servers":
        summary: OpenLDAP Servers
        description: OpenLDAP Servers
        paths:
            - /usr/lib/openldap/slapd
            - /usr/lib/systemd/system/slapd.service
            - /usr/sbin/slap*
            - /usr/share/man/man5/lloadd.conf.*
            - /usr/share/man/man5/slapd*
            - /usr/share/man/man5/slapo*
            - /usr/share/man/man5/slappw-argon2.5*
            - /usr/share/man/man8/lloadd.8*
            - /usr/share/man/man8/slap*

    - "%(name)-clients":
        summary: OpenLDAP client tools
        description: OpenLDAP client tools
        paths:
            - /usr/bin/ldap*
            - /usr/share/man/man1/ldap*
