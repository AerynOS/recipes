name        : boulder
version     : 0.1
release     : 21
summary     : Package creation tool for Serpent OS
license     : Zlib
homepage    : https://github.com/serpent-os/boulder
description : |
    Serpent OS builder tool.
upstreams   :
    - https://github.com/serpent-os/boulder/archive/refs/heads/main.tar.gz:
        hash: 9e1090fc792ae55992c7ba93f7ea44655ed53c61591e90ec504beaa4108ca96d
        rename: boulder.tar.gz
        stripdirs: 1
        unpackdir: "boulder/"
    - https://github.com/serpent-os/moss-config/archive/refs/heads/main.tar.gz:
        hash: 9b1fe1999bf315c4fd2fb3c6a478da4725e83bedd218695d68b9bd7d14003715
        rename: moss-config.tar.gz
        stripdirs: 1
        unpackdir: "moss-config/"
    - https://github.com/serpent-os/moss-core/archive/refs/heads/main.tar.gz:
        hash: d0fac5054be60bb3b2e64a5e163023277fa4bfebc71666a54db1627f9aca749f
        rename: moss-core.tar.gz
        stripdirs: 1
        unpackdir: "moss-core/"
    - https://github.com/serpent-os/moss-deps/archive/refs/heads/main.tar.gz:
        hash: 9bae4e573406d8b2f437297557b2cd468f27394ca74238e7a0928b4d3f3f14d9
        rename: moss-deps.tar.gz
        stripdirs: 1
        unpackdir: "moss-deps/"
    - https://github.com/serpent-os/moss-fetcher/archive/refs/heads/main.tar.gz:
        hash: e0dc159b179fc70706466dc8559bce5d04fa668ef81d3f0682f1169bac32fa9a
        rename: moss-fetcher.tar.gz
        stripdirs: 1
        unpackdir: "moss-fetcher/"
    - https://github.com/serpent-os/moss-format/archive/refs/heads/main.tar.gz:
        hash: 6dde9b4010373c91d9aaf958377553009ec1851f501b099111f5d7ca54632ba0
        rename: moss-format.tar.gz
        stripdirs: 1
        unpackdir: "moss-format/"
    - https://github.com/serpent-os/moss-vendor/archive/refs/heads/main.tar.gz:
        hash: 21f4f4e99260f25a0c6b2366a64da77a08cb1a870c8a27cff21103ec754b7d9e
        rename: moss-vendor.tar.gz
        stripdirs: 1
        unpackdir: "moss-vendor/"
    - https://github.com/serpent-os/elf-d/archive/refs/heads/dynamiclinking.tar.gz:
        hash: 16042f909ec2dca21581752582e8ded86073c364f564182c85c642a93075d3aa
        rename: elf-d.tar.gz
        stripdirs: 1
        unpackdir: "moss-vendor/vendor/elf/elf-d/"
    - https://github.com/serpent-os/lmdb-d/archive/refs/heads/main.tar.gz:
        hash: 0204dfde3c4b98836df384128be44ae558a12724886ceccce3a96d4004d6d98f
        rename: lmdb-d.tar.gz
        stripdirs: 1
        unpackdir: "moss-vendor/subprojects/lmdb-d/"
    - https://github.com/serpent-os/xxhash-d/archive/refs/heads/main.tar.gz:
        hash: 22f842f0bce4bb18d6e87ac38d6e94b1d676113935cf79789550281238d06315
        rename: xxhash-d.tar.gz
        stripdirs: 1
        unpackdir: "moss-vendor/subprojects/xxhash-d/"
    - https://github.com/serpent-os/zstdoubledee/archive/refs/heads/main.tar.gz:
        hash: 4f87366e92f2a0adbf00308b45da13c76af8ab267adc4394d051b7f1d34ae329
        rename: zstdoubledee.tar.gz
        stripdirs: 1
        unpackdir: "moss-vendor/subprojects/zstdoubledee/"
    - https://github.com/dlang-community/D-YAML/archive/da75f590dedf18cddfcba2003f72c1ec47bb2d8e.tar.gz:
        hash: f5b210ee2a50629f50ab6dd803c00b8c8baae03182220bb7075349def42b6b93
        stripdirs: 1
        unpackdir: "moss-vendor/vendor/yaml/dyaml/"
    - https://github.com/dlang-community/tinyendian/archive/7b67bd437e296e917c0c26d8bff96c80b102b8cd.tar.gz:
        hash: 43f398886a269bafe6f3ce83a34fb15be696af75fc089ce5fe6b9507dc42063f
        stripdirs: 1
        unpackdir: "moss-vendor/vendor/yaml/tinyendian/"
builddeps   :
    - cmake
    - ldc
    - ldc-devel
    - pkgconfig(libcurl)
    - pkgconfig(libxxhash)
    - pkgconfig(libzstd)
rundeps     :
    - binary(moss-container)
environment : |
    cd %(buildroot)/boulder
    find .. -type d
setup       : |
    %meson
build       : |
    %meson_build
install     : |
    %meson_install
    ln -sf boulder %(installroot)/usr/bin/mason

    %install_dir %(installroot)/usr/share/moss
    mv data/macros %(installroot)/usr/share/moss/
