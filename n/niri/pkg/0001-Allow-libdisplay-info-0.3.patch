From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Reilly Brogan <reilly@reillybrogan.com>
Date: Tue, 12 Aug 2025 15:55:39 -0500
Subject: [PATCH] Allow libdisplay-info 0.3

---
 Cargo.lock | 9 +++------
 Cargo.toml | 3 +++
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/Cargo.lock b/Cargo.lock
index da59d82a..2cd0d225 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -1990,8 +1990,7 @@ checksum = "d750af042f7ef4f724306de029d18836c26c1765a54a6a3f094cbd23a7267ffa"
 [[package]]
 name = "libdisplay-info"
 version = "0.2.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "4210cfe93a0dc37228e08105e3c13171e5af816f7bd39e00e3d3adcf2b487a2b"
+source = "git+https://github.com/ReillyBrogan/libdisplay-info-rs.git#8ea9def6dcf831ee2f441d70a4398e348396a96c"
 dependencies = [
  "bitflags 2.9.1",
  "libc",
@@ -2003,8 +2002,7 @@ dependencies = [
 [[package]]
 name = "libdisplay-info-derive"
 version = "0.1.0"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "ea1cd31036b732a546d845f9485c56b1b606b5e476b0821c680dd66c8cd6fcee"
+source = "git+https://github.com/ReillyBrogan/libdisplay-info-rs.git#8ea9def6dcf831ee2f441d70a4398e348396a96c"
 dependencies = [
  "proc-macro2",
  "quote",
@@ -2014,8 +2012,7 @@ dependencies = [
 [[package]]
 name = "libdisplay-info-sys"
 version = "0.2.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "7f4f9264ece23c37ffa023ae635f48d588e1786745dad06dff10c9fb99dc646c"
+source = "git+https://github.com/ReillyBrogan/libdisplay-info-rs.git#8ea9def6dcf831ee2f441d70a4398e348396a96c"
 dependencies = [
  "semver",
  "system-deps 7.0.3",
diff --git a/Cargo.toml b/Cargo.toml
index ed1d8b6e..14cd9189 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -175,3 +175,6 @@ assets = [
     ["resources/niri.service", "/usr/lib/systemd/user/", "644"],
     ["resources/niri-shutdown.target", "/usr/lib/systemd/user/", "644"],
 ]
+
+[patch.crates-io]
+libdisplay-info = { git = 'https://github.com/ReillyBrogan/libdisplay-info-rs.git' }
