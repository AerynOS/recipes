#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : perl-yaml-libyaml
version     : 0.904.0
release     : 1
homepage    : https://metacpan.org/dist/YAML-LibYAML
upstreams   :
    - https://cpan.metacpan.org/authors/id/T/TI/TINITA/YAML-LibYAML-v0.904.0.tar.gz : b656b0b11a4219c125679e8cbf7436a3f636e833fd63cf322d171dcb7c3eaf3e
summary     : Perl YAML Serialization using XS and libyaml
description : |
    Perl YAML Serialization using XS and libyaml
license     : Artistic-1.0-Perl
builddeps   :
    - pkgconfig(yaml-0.1)
    - perl-devel
rundeps     :
    - binary(perl)
setup       : |
    %patch %(pkgdir)/unbundle-libyaml.patch
    for file in api.c dumper.c emitter.c loader.c parser.c reader.c scanner.c \
        writer.c yaml.h yaml_private.h; do
        rm LibYAML/$file
        sed -i -e "/^LibYAML\/$file/d" MANIFEST
    done

    %perl_setup
build       : |
    %make
install     : |
    %make_install
packages    :
    - "%(name)":
        paths:
            - /usr/share/man/man3
