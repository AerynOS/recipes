#
# SPDX-FileCopyrightText: Â© 2020-2023 Serpent OS Developers
#
# SPDX-License-Identifier: Zlib
#
name        : nodejs
version     : '18.15.0'
release     : 1
homepage    : https://nodejs.org/
upstreams   :
    - https://nodejs.org/dist/v18.15.0/node-v18.15.0.tar.gz : d65c4c3ef3c8815bccda9502081a29458c7c80797db0763f8752f270a824ac2b
summary     : A JavaScript runtime environment.
description : |
    Node.js is an open-source, cross-platform JavaScript runtime environment.
license     : MIT
builddeps   :
    - binary(python)
    - pkgconfig(bzip2)
    - pkgconfig(icu-i18n)
    - pkgconfig(libbrotlicommon)
    - pkgconfig(libnghttp2)
    - pkgconfig(libuv)
    - pkgconfig(openssl)
    - pkgconfig(zlib)
    - gcc-devel # needed for libatomic
    # TODO: c-ares
setup       : |
    ./configure \
        --prefix=%(prefix) \
        --shared-brotli \
        --shared-libuv \
        --shared-nghttp2 \
        --shared-openssl \
        --shared-zlib \
        --with-intl=system-icu
build       : |
    %make
install     : |
    %make_install
