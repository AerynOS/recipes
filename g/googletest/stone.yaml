#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : googletest
version     : 1.17.0
release     : 3
upstreams   :
    - https://github.com/google/googletest/archive/refs/tags/v1.17.0.tar.gz : 65fab701d9829d38cb77c14acdc431d2108bfdbf8979e40eb8ae567edf10b27c
homepage    : https://google.github.io/googletest/
license     : BSD-3-Clause
summary     : Google's C++ test framework
description : |
    GoogleTest is Google's C++ testing and mocking framework.
setup       : |
    # Set the version correctly
    sed -e "s/set(GOOGLETEST_VERSION .*)/set(GOOGLETEST_VERSION %(version))/" -i CMakeLists.txt

    %cmake \
           -DBUILD_SHARED_LIBS=ON \
           -Dgtest_build_tests=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
check       : |
    %cmake_test
