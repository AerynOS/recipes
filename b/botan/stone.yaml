#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : botan
version     : 3.9.0
release     : 4
homepage    : https://botan.randombit.net
upstreams   :
    - https://botan.randombit.net/releases/Botan-3.9.0.tar.xz : 8c3f284b58ddd42e8e43e9fa86a7129d87ea7c3f776a80d3da63ec20722b0883
summary     : A C++ cryptography library
description : |
    A C++ cryptography library
license     : BSD-2-Clause
builddeps   :
    - binary(python3)
    - pkgconfig(bzip2)
    - pkgconfig(liblzma)
    - pkgconfig(sqlite3)
    - pkgconfig(tss2-esys)
    - pkgconfig(zlib)
setup       : |
    ./configure.py               \
        --prefix=%(prefix)       \
        --libdir=%(libdir)       \
        --enable-shared-library  \
        --with-bzip              \
        --with-lzma              \
        --with-sqlite3           \
        --with-tpm2              \
        --with-zlib              \
        --with-os-feature=getrandom

build       : |
    %make
install     : |
    %make_install
    %python_compile
    rm %(installroot)/%(libdir)/*.a    
packages    :
    - "%(name)-docs":
        paths:
            - /usr/share/doc

    - "python-%(name)3":
        summary: "A C++ cryptography library - Python library"
        description: |
            A C++ cryptography library - Python library
        rundeps:
            - python-libs
        paths:
            - /usr/lib/python*
