#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : botan
version     : 3.8.1
release     : 3
homepage    : https://botan.randombit.net
upstreams   :
    - https://botan.randombit.net/releases/Botan-3.8.1.tar.xz : b039681d4b861a2f5853746d8ba806f553e23869ed72d89edbfa3c3dbfa17e68
summary     : A C++ cryptography library
description : |
    A C++ cryptography library
license     : BSD-2-Clause
builddeps   :
    - binary(python3)
    - pkgconfig(bzip2)
    - pkgconfig(liblzma)
    - pkgconfig(sqlite3)
    - pkgconfig(tss2-esys)
    - pkgconfig(zlib)
setup       : |
    ./configure.py               \
        --prefix=%(prefix)       \
        --libdir=%(libdir)       \
        --enable-shared-library  \
        --with-bzip              \
        --with-lzma              \
        --with-sqlite3           \
        --with-tpm2              \
        --with-zlib              \
        --with-os-feature=getrandom

build       : |
    %make
install     : |
    %make_install
    %python_compile
    rm %(installroot)/%(libdir)/*.a    
packages    :
    - "%(name)-docs":
        paths:
            - /usr/share/doc
    - "python-%(name)3":
        summary: "A C++ cryptography library - Python library"
        description: |
            A C++ cryptography library - Python library
        rundeps:
            - binary(python3)
        paths:
            - /usr/lib/python*
