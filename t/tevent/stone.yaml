#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : tevent
version     : 0.17.1
release     : 4
homepage    : https://tevent.samba.org/
upstreams   :
    - https://www.samba.org/ftp/tevent/tevent-0.17.1.tar.gz : 1be2dea737cde25fe06621f84945e63eb71259e0c43e9f8f5da482dab1a7be92
summary     : Tevent is an event system based on the talloc memory management library. It is the core event system used in Samba.
description : |
    Tevent is an event system based on the talloc memory management library. It is the core event system used in Samba. The low level tevent has support for many event types, including timers, signals, and the classic file descriptor events. Tevent also provide helpers to deal with asynchronous code providing the tevent_req (tevent request) functions.
license     :
    - LGPL-3.0-or-later
builddeps   :
    - binary(ld.bfd)
    - binary(python)
    - binary(which)
    - pkgconfig(cmocka)
    - pkgconfig(talloc)
environment : |
    # ld.bfd is required here, but we can still build with clang.
    export LDFLAGS="${LDFLAGS} -fuse-ld=bfd"
setup       : |
    %configure \
        --bundled-libraries=NONE \
        --builtin-libraries=replace \
        --disable-rpath-install \
        --disable-python
build       : |
    %make
install     : |
    %make_install
# icf unsupported with bfd
tuning      :
    - icf: false
