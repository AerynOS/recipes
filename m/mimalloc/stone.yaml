#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : mimalloc
version     : 2.2.4
release     : 9
homepage    : https://github.com/microsoft/mimalloc
upstreams   :
    - https://github.com/microsoft/mimalloc/archive/refs/tags/v2.2.4.tar.gz: 754a98de5e2912fddbeaf24830f982b4540992f1bab4a0a8796ee118e0752bda
summary     : Compact general purpose allocator
description : |
    mimalloc is a compact general purpose allocator with excellent performance.
license     : MIT
setup       : |
    %cmake \
           -DMI_BUILD_OBJECT=OFF \
           -DMI_BUILD_STATIC=ON \
           -DMI_INSTALL_TOPLEVEL=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
check       : |
    %cmake_test
tuning      :
    - lto: full
    - optimize: speed
packages    :
    - "%(name)-static":
        summary: Static libs for %(name)
        description: Static libs for %(name)
        paths:
            - /usr/lib/lib*.a
        rundeps:
            - "%(name)-devel"
