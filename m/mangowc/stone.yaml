#
# SPDX-FileCopyrightText: Â© 2025- AerynOS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : mangowc
version     : "0.12.0"
release     : 3
homepage    : https://github.com/DreamMaoMao/mangowc
upstreams   :
    - https://github.com/DreamMaoMao/mangowc/archive/refs/tags/0.12.0.tar.gz : 5757a888603a55fb4a154878e69b4091d38db5e2e60450a3048409716cae6c28
summary     : A Wayland compositor with smooth animation
description : |
    A wayland compositor utilizing wlroots as a base and SceneFX for aesthetics
license     :
    - GPL-3.0-or-later
builddeps   :
    - pkgconfig(libdrm)
    - pkgconfig(libinput)
    - pkgconfig(libpcre2-8)
    - pkgconfig(pixman-1)
    - pkgconfig(scenefx)
    - pkgconfig(wayland-protocols)
    - pkgconfig(wlroots)
    - pkgconfig(xcb)
    - pkgconfig(xkbcommon)
    - pkgconfig(xwayland)
rundeps     :
    - binary(foot) # Ensure default config terminal is installed
    - binary(tofi) # Ensure an application launcher is installed
setup       : |
    # Change default config to use tofi instead of rofi so I don't need to add another package.
    %patch %(pkgdir)/change-rofi-to-tofi.patch
    %meson
build       : |
    %meson_build
install     : |
    %meson_install

    %install_file config.conf -t %(installroot)%(vendordir)/mango/
