#
# SPDX-FileCopyrightText: ¬© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libei
version     : 1.5.0
release     : 6
homepage    : https://gitlab.freedesktop.org/libinput/libei
upstreams   :
    - https://gitlab.freedesktop.org/libinput/libei/-/archive/1.5.0/libei-1.5.0.tar.gz : 7687c3bbcff89ff331c5db72e0a5cce6bcae382e3c238d6f7019a6bc71d88e43
summary     : Library for emulated input
description : |
    libei is a library for Emulated Input, primarily aimed at the Wayland
    stack. It provides three parts:

    ü•ö EI (Emulated Input) for the client side (libei)
    üç¶ EIS (Emulated Input Server) for the server side (libeis)
    üöå oeffis is an optional helper library for DBus communication with the XDG RemoteDesktop portal (liboeffis)
license     :
    - MIT
builddeps   :
    - binary(python3)
    - binary(xmllint)
    - pkgconfig(libevdev)
    - pkgconfig(libsystemd)
    - pkgconfig(xkbcommon)
    - python(attrs)
    - python(jinja2)
    # TODO: Ruff
setup       : |
    %meson \
        -Dtests=disabled
build       : |
    %meson_build
install     : |
    %meson_install
packages    :
    - "%(name)-utils":
        summary: Utilities to test and/or debug emulated input devices
        description: Utilities to test and/or debug emulated input devices
        paths:
            - /usr/bin/ei-debug-events

    - "libeis":
        summary: Library for Emulated Input Servers
        description: Library for Emulated Input Servers
        paths:
            - /usr/lib/libeis.so.*

    - "liboeffis":
        summary: Library for XDG RemoteDesktop Portal Setup
        description: Library for XDG RemoteDesktop Portal Setup
        paths:
            - /usr/lib/liboeffis.so.*

    - "%(name)-devel":
        rundeps:
            - libeis
            - liboeffis
