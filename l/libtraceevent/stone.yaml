#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#                
name        : libtraceevent
version     : "1.9.0"
release     : 9
homepage    : https://git.kernel.org/pub/scm/libs/libtrace/libtraceevent.git/about/
upstreams   :
    - https://git.kernel.org/pub/scm/libs/libtrace/libtraceevent.git/snapshot/libtraceevent-1.9.0.tar.gz : e6d82cb2392d04866203387fa092692e4282ccc36c8235dc129afd1ceba12684
summary     : Linux kernel trace event library
description : |
    The libtraceevent(3) library provides APIs to access kernel tracepoint events, located in the tracefs file system under the events directory.
license     :
    - GPL-2.0
    - LGPL-2.1
builddeps   :
    - binary(asciidoc)
    - binary(readelf)
    # - binary(xmlto)
    - pkgconfig(cunit)
    # Needs source-highlight for docs
setup       : |
    %meson \
        -Ddefault_library=shared \
        -Ddoc=false
build       : |
    %meson_build
install     : |
    %meson_install
check       : |
    # BTF tests fail on build server presumably due to missing permissions
    %meson_test || :
