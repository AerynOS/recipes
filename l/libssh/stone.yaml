#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libssh
version     : 0.11.3
release     : 5
homepage    : https://www.libssh.org/
upstreams   :
    - https://www.libssh.org/files/0.11/libssh-0.11.3.tar.xz : 7d8a1361bb094ec3f511964e78a5a4dba689b5986e112afabe4f4d0d6c6125c3
summary     : C library for SSHv2 protocol support
description : |
    libssh is a multiplatform C library implementing the SSHv2 protocol on client and server side. With libssh, you can remotely execute programs, transfer files, use a secure and transparent tunnel, manage public keys and much more
license     :
    - BSD-3-Clause
    - LGPL-2.1-or-later
    - MIT
builddeps   :
    - pkgconfig(openssl)
    - pkgconfig(zlib)
checkdeps  :
    - cmake(cmocka)
    - libgcc # libgcc_s.so.1 must be installed for pthread_exit to work
setup       : |
    %cmake \
           -DUNIT_TESTING:BOOL=ON \
           -DWITH_GCRYPT:BOOL=OFF
build       : |
    %cmake_build
install     : |
    %cmake_install
check       : |
    %cmake_test
