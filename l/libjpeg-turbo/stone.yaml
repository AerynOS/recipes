#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libjpeg-turbo
version     : 3.1.2
release     : 9
homepage    : https://libjpeg-turbo.org/
upstreams   :
    - https://github.com/libjpeg-turbo/libjpeg-turbo/archive/refs/tags/3.1.2.tar.gz : 560f6338b547544c4f9721b18d8b87685d433ec78b3c644c70d77adad22c55e6
summary     : A MMX/SSE2/SIMD accelerated library for manipulating JPEG image files
description : |
    libjpeg-turbo implements both the traditional libjpeg API as well as the less powerful but more straightforward TurboJPEG API. libjpeg-turbo also features colorspace extensions that allow it to compress from/decompress to 32-bit and big-endian pixel buffers (RGBX, XBGR, etc.), as well as a full-featured Java interface.
license     :
    - BSD-3-Clause
    - IJG
    - Zlib
builddeps   :
    - binary(nasm)
setup       : |
    %cmake \
        -DCMAKE_INSTALL_LIBDIR=/usr/lib \
        -DENABLE_STATIC=OFF \
        -DWITH_JPEG8=TRUE
build       : |
    %cmake_build
install     : |
    %cmake_install
    rm -fr %(installroot)/usr/share/doc/
    rm -v %(installroot)%(bindir)/tjbench
check       : |
    %cmake_test
packages    :
    - "%(name)-utils":
        summary: Utilities for manipulating JPEG images
        description: Utilities for manipulating JPEG images
        paths:
            - /usr/bin/
            - /usr/share/man/man1/

    - "turbojpeg":
        summary: TurboJPEG library
        description: TurboJPEG library
        paths:
            - /usr/lib/libturbojpeg.so.*

    - "turbojpeg-devel":
        summary: TurboJPEG library - development files
        description: TurboJPEG library - development files
        rundeps:
            - "turbojpeg"
        paths:
            - /usr/include/turbojpeg.h
            - /usr/lib/libturbojpeg.so
            - /usr/lib/pkgconfig/libturbojpeg.pc
