#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libunwind-nongnu
version     : 1.8.2
release     : 1
upstreams   :
    - https://github.com/libunwind/libunwind/releases/download/v1.8.2/libunwind-1.8.2.tar.gz : 7f262f1a1224f437ede0f96a6932b582c8f5421ff207c04e3d9504dfa04c8b82
homepage    : https://www.nongnu.org/libunwind
license     : MIT
summary     : Open-source implementation of the libunwind API
description : |
    Open-source implementation of the libunwind API
builddeps   :
    - pkgconfig(liblzma)
    - pkgconfig(zlib)
setup       : |
    %patch %(pkgdir)/rename-libunwind-nongnu.patch

    %reconfigure \
        --includedir=%(includedir)/%(name) \
        --disable-static \
        --enable-cxx-exceptions \
        --enable-setjmp=no
build       : |
    %make
install     : |
    %make_install
packages    :
    - "%(name)-tests":
        summary: Test binaries for %(name)
        description: Test binaries for %(name)
        paths:
            - /usr/lib/libunwind-nongnu/
