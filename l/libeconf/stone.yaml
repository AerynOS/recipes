#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : libeconf
version     : 0.7.10
release     : 6
homepage    : https://github.com/openSUSE/libeconf
upstreams   :
    - https://github.com/openSUSE/libeconf/archive/refs/tags/v0.7.10.tar.gz : e8fee300cbbae11287d2682d185d946a1ffbd23bf02b4f97d68f2df34d8de07f
summary     : Configuration file parser for hermetic systems
description : |
    Enhanced config file parser, which merges config files placed in several locations into one.
license     : MIT
builddeps   :
    - binary(doxygen)
emul32      : true
profiles    :
    - emul32:
        install: |
            %cmake_install

            # x64 won't install the correct binaries if this is present
            rm -v %(installroot)%(bindir)/econftool
setup       : |
    %patch %(pkgdir)/0001-cmake-no-install-html.patch

    %cmake \
        -DCMAKE_INSTALL_LIBDIR=lib%(libsuffix)
build       : |
    %cmake_build
install     : |
    %cmake_install
packages    :
    - "%(name)-utils":
        summary: Utilities for manipulating config files
        description: Utilities for manipulating config files
        paths:
            - /usr/bin/econftool
            - /usr/share/man/man8/econftool.8*
