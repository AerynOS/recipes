#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : less
version     : "692"
release     : 15
homepage    : https://www.greenwoodsoftware.com/less
upstreams   :
    - https://github.com/gwsw/less/archive/refs/tags/v692.tar.gz : 5e2ba1936f9d19d903d8b224c3af39c8693bf3add8de42fef3a18b2cde964b35
summary     : Text file browser and pager
description : |
    Text file browser and pager
license     :
    - BSD-2-Clause
    - GPL-3.0-or-later
builddeps   :
    - binary(nroff)
    - pkgconfig(libpcre2-8)
    - pkgconfig(ncursesw)
setup       : |
    make -f Makefile.aut distfiles
    %configure \
        --with-regex=pcre2
build       : |
    %make
install     : |
    %make_install

    # Make it clear that the default pager configuration is owned by the less package itself
    %install_dir %(installroot)%(vendordir)/%(name)
    %install_file %(pkgdir)/10_default_PAGER_less.sh %(installroot)%(vendordir)/%(name)/
    %install_dir %(installroot)%(vendordir)/profile.d
    ln -srv %(installroot)%(vendordir)/%(name)/10_default_PAGER_less.sh %(installroot)%(vendordir)/profile.d/
