#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : strace
version     : "6.16"
release     : 13
homepage    : https://strace.io
upstreams   :
    - https://github.com/strace/strace/releases/download/v6.16/strace-6.16.tar.xz : 3d7aee7e4f044b2f67f3d51a8a76eda18076e9fb2774de54ac351d777d4ebffa
summary     : Diagnostic, debugging and instructional userspace utility
description : |
    strace is a diagnostic, debugging and instructional userspace utility with a traditional command-line interface for Linux. It is used to monitor and tamper with interactions between processes and the Linux kernel, which include system calls, signal deliveries, and changes of process state. The operation of strace is made possible by the kernel feature known as ptrace.
license     :
    - LGPL-2.1-or-later
builddeps   :
    - binary(readelf)
    - pkgconfig(libdw)
setup       : |
    # This is how strace expect the variables
    for v in CC CPP {C,LD}FLAGS ; do
        bv="${v}"
        export "${v}_FOR_BUILD=${!bv}"
    done

    %configure \
               --enable-stacktrace
build       : |
    %make
install     : |
    %make_install
