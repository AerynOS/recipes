#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : sdl3
version     : "3.4.2"
release     : 11
homepage    : https://libsdl.org
upstreams   :
    - https://github.com/libsdl-org/SDL/releases/download/release-3.4.2/SDL3-3.4.2.tar.gz : ef39a2e3f9a8a78296c40da701967dd1b0d0d6e267e483863ce70f8a03b4050c
summary     : Simple DirectMedia Library
description : |
    Simple DirectMedia Library
license     : Zlib
builddeps   :
    - pkgconfig(alsa)
    - pkgconfig(dbus-1)
    - pkgconfig(egl)
    - pkgconfig(fribidi)
    - pkgconfig(gbm)
    - pkgconfig(ibus-1.0)
    - pkgconfig(libdecor-0)
    - pkgconfig(libdrm)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libpulse)
    - pkgconfig(libthai)
    - pkgconfig(libunwind-generic)
    - pkgconfig(liburing-ffi)
    - pkgconfig(libusb-1.0)
    - pkgconfig(sndio)
    - pkgconfig(wayland-client)
    - pkgconfig(x11)
    - pkgconfig(xcursor)
    - pkgconfig(xext)
    - pkgconfig(xfixes)
    - pkgconfig(xi)
    - pkgconfig(xkbcommon)
    - pkgconfig(xrandr)
    - pkgconfig(xscrnsaver)
    - pkgconfig(xtst)
    # jack
tuning      :
    - lto: full
setup       : |
    %cmake \
        -DSDL_HIDAPI_LIBUSB=ON \
        -DSDL_HIDAPI_LIBUSB_SHARED=OFF \
        -DSDL_KMSDRM_SHARED=OFF \
        -DSDL_RPATH=OFF \
        -DSDL_PIPEWIRE_SHARED=OFF \
        -DSDL_STATIC=OFF \
        -DSDL_WAYLAND_LIBDECOR_SHARED=OFF \
        -DSDL_WAYLAND_SHARED=OFF
build       : |
    %cmake_build
install     : |
    %cmake_install
