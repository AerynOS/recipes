#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : zola
version     : "0.22.1"
release     : 2
homepage    : https://www.getzola.org/
upstreams   :
    - https://github.com/getzola/zola/archive/refs/tags/v0.22.1.tar.gz : 0f59479e05bce79e8d5860dc7e807ea818986094469ed8bf0bb46588ade95982
summary     : An opinionated static site generator
description : |
    Zola is a fast, opinionated static site generator written in Rust.
license     : MIT
networking  : true
builddeps   :
    - binary(cargo)
setup       : |
    %cargo_fetch
build       : |
    %cargo_build
install     : |
    %cargo_install

    target/*/release/zola completion bash > zola.bash
    %install_file zola.bash %(installroot)%(bashcompletionsdir)/zola

    target/*/release/zola completion fish > zola.fish
    %install_file zola.fish %(installroot)%(fishcompletionsdir)/zola.fish

    target/*/release/zola completion zsh > zola.zsh
    %install_file zola.zsh %(installroot)%(zshcompletionsdir)/_zola
check       : |
    %cargo_test
