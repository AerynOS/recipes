#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : freetype
version     : 2.14.0
release     : 16
homepage    : http://freetype.org
upstreams   :
    - https://sourceforge.net/projects/freetype/files/freetype2/2.14.0/freetype-2.14.0.tar.xz : f8dfa8f15ef0576738dfb55b2e6e6b172fd5d09b6f03785a1df03239549f64d2
summary     : Library to rasterize glyphs from font files
description : |
    freetype is a font rasterizer library written in C, designed to be small, efficient, highly customizable, and portable while capable of producing high-quality output (glyph images) of most vector and bitmap font formats.
license     :
    - FTL OR GPL-2.0-only
builddeps   :
    - binary(python3)
    - pkgconfig32(bzip2)
    - pkgconfig32(libbrotlidec)
    - pkgconfig32(libpng)
    - pkgconfig32(zlib)
emul32      : yes
profiles    :
    - emul32:
        setup: |
            %patch %(pkgdir)/long-names.patch
            %patch %(pkgdir)/modules.patch
            %patch %(pkgdir)/subpixel.patch
            # Currently the emul32 chain for harfbuzz is on the large side. Revisit
            %meson \
                -Dharfbuzz=disabled
        build: |
            %meson_build
        install: |
            %meson_install
setup       : |
    %patch %(pkgdir)/long-names.patch
    %patch %(pkgdir)/modules.patch
    %patch %(pkgdir)/subpixel.patch
    %meson \
        -Dharfbuzz=dynamic
build       : |
    %meson_build
install     : |
    %meson_install
