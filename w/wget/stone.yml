#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : wget
version     : 2.1.0
release     : 3
homepage    : https://www.gnu.org/software/wget
upstreams   :
    - https://ftp.gnu.org/gnu/wget/wget2-2.1.0.tar.lz : bc034194b512bb83ce0171d15a8db33e1c5c3ab8b3e343e1e6f2cf48f9154fad
summary     : Retrieves files online supporting many known protocols
description : |
    GNU Wget is a free software package for retrieving files using HTTP, HTTPS, FTP and FTPS, the most widely used Internet protocols. It is a non-interactive commandline tool, so it may easily be called from scripts, cron jobs, terminals without X-Windows support, etc.
license     :
    - GPL-3.0-or-later  # wget binary.
    - LGPL-3.0-or-later # libwget.
builddeps   :
    - pkgconfig(bzip2)
    - pkgconfig(libbrotlidec)
    - pkgconfig(liblzma)
    - pkgconfig(libnghttp2)
    - pkgconfig(libzstd)
    - pkgconfig(openssl)
    - pkgconfig(zlib)
    # pandoc for manpages
setup       : |
    %patch %(pkgdir)/0001-libwget-openssl-Use-vendor-SSL-certs-for-now.patch
    %configure --disable-static --with-lzma --with-bzip2
build       : |
    %make
install     : |
    %make_install
    ln -s wget2 %(installroot)/%(bindir)/wget
check       : |
    %make check
