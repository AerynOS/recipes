#
# SPDX-FileCopyrightText: Â© 2020-2025 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : waybar
version     : "0.15.0"
release     : 7
homepage    : https://github.com/Alexays/Waybar
upstreams   :
    - https://github.com/Alexays/Waybar/archive/refs/tags/0.15.0.tar.gz : 21c2bbef88c40473c355003582f9331d2f9b8a01efdcce0935edfc5f6b023a3e
summary     : Highly customizable Wayland bar for Sway and Wlroots based compositors
description : |
    Highly customizable Wayland bar for Sway and Wlroots based compositors.
license     : MIT
networking  : true
builddeps   :
    - binary(clang-tidy)
    - binary(git)
    - pkgconfig(cava)
    - pkgconfig(dbusmenu-gtk3-0.4)
    # - pkgconfig(epoll-shim)
    - pkgconfig(fftw3)
    - pkgconfig(fmt)
    - pkgconfig(gio-unix-2.0)
    - pkgconfig(gtk-layer-shell-0)
    - pkgconfig(gtkmm-3.0)
    # - pkgconfig(jack)
    - pkgconfig(jsoncpp)
    - pkgconfig(libevdev)
    # - pkgconfig(libinotify)
    - pkgconfig(libinput)
    # - pkgconfig(libmpdclient)
    - pkgconfig(libnl-3.0)
    - pkgconfig(libnl-genl-3.0)
    - pkgconfig(libpipewire-0.3)
    - pkgconfig(libpulse)
    - pkgconfig(libudev)
    # - pkgconfig(playerctl)
    - pkgconfig(scdoc)
    - pkgconfig(sigc++-2.0)
    - pkgconfig(sndio)
    - pkgconfig(spdlog)
    - pkgconfig(systemd)
    # - pkgconfig(threads)
    - pkgconfig(upower-glib)
    - pkgconfig(wayland-client)
    - pkgconfig(wayland-cursor)
    - pkgconfig(wayland-protocols)
    - pkgconfig(wireplumber-0.5)
    - pkgconfig(xkbregistry)
    - catch2
    # - libgps
setup       : |
    %patch %(pkgdir)/0001-Fix-fmt-12.0-build.patch
    %patch %(pkgdir)/0001-make-stateless.patch
    %meson
build       : |
    %meson_build
install     : |
    %meson_install
