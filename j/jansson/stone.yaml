#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : jansson
version     : "2.14.1"
release     : 4
summary     : C library for encoding, decoding and manipulating JSON data
license     : MIT
homepage    : https://digip.org/jansson/
description : |
    C library for encoding, decoding and manipulating JSON data.
upstreams   :
    - https://github.com/akheron/jansson/releases/download/v2.14.1/jansson-2.14.1.tar.gz: 2521cd51a9641d7a4e457f7215a4cd5bb176f690bc11715ddeec483e85d9e2b3
emul32      : true
profiles    :
    - emul32:
        setup: |
            %patch %(pkgdir)/emul32.diff
            %patch %(pkgdir)/ftbfs-cmake-4.patch

            %cmake -DJANSSON_BUILD_SHARED_LIBS=ON
setup       : |
    %patch %(pkgdir)/ftbfs-cmake-4.patch
    %cmake -DJANSSON_BUILD_SHARED_LIBS=ON
build       : |
    %cmake_build
install     : |
    %cmake_install
