#
# SPDX-FileCopyrightText: Â© 2020-2024 Serpent OS Developers
#
# SPDX-License-Identifier: MPL-2.0
#
name        : iproute2
version     : 6.16.0
release     : 8
homepage    : https://wiki.linuxfoundation.org/networking/iproute2
upstreams   :
    - https://mirrors.edge.kernel.org/pub/linux/utils/net/iproute2/iproute2-6.16.0.tar.xz : 5900ccc15f9ac3bf7b7eae81deb5937123df35e99347a7f11a22818482f0a8d0
summary     : Utility collection to control networking and traffic
description : |
    Iproute2 is a collection of utilities for controlling TCP/IP networking and traffic control in Linux. It supersedes ifconfig and route commands.
license     :
    - GPL-2.0-only
builddeps   :
    - binary(bison)
    - binary(flex)
    - pkgconfig(libbpf)
    - pkgconfig(libcap)
    - pkgconfig(libmnl)
setup       : |
    %patch %(pkgdir)/fhs.patch

    %configure \
        --color=auto
build       : |
    %make HOSTCC=${CC}
install     : |
    SBINDIR=%(sbindir) %make_install
    %install_file %(pkgdir)/%(name).tmpfiles %(installroot)/%(tmpfilesdir)/%(name).conf

    # Empty
    rmdir -v %(installroot)%(libdir)/tc
